<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTSpinner</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            margin: 0;
            padding: 0;
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            width: 100%;
            max-width: 400px;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 28px;
            margin: 0;
            color: #f8c537;
        }
        
        .header h2 {
            font-size: 18px;
            margin: 5px 0 0;
            color: #e94560;
        }
        
        .wheel-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto 20px;
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                #e94560 0% 25%,
                #00b4d8 25% 50%,
                #f8c537 50% 75%,
                #2dc59f 75% 100%
            );
            position: relative;
            transition: transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99);
            transform: rotate(0deg);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .wheel-center {
            position: absolute;
            width: 60px;
            height: 60px;
            background-color: #1a1a2e;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            z-index: 2;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            color: white;
            font-size: 14px;
            text-align: center;
            border: 2px solid #f8c537;
        }
        
        .wheel-center:active {
            transform: translate(-50%, -50%) scale(0.95);
        }
        
        .pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid #f8c537;
            z-index: 1;
            filter: drop-shadow(0 0 5px rgba(248, 197, 55, 0.7));
        }
        
        .wheel-label {
            position: absolute;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
        }
        
        .spin-button {
            display: block;
            width: 200px;
            margin: 0 auto;
            padding: 12px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.4);
            text-align: center;
        }
        
        .spin-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(233, 69, 96, 0.6);
        }
        
        .spin-button:disabled {
            background: linear-gradient(135deg, #555, #777);
            transform: none;
            box-shadow: none;
            cursor: not-allowed;
        }
        
        .spin-cost {
            font-size: 12px;
            margin-top: 5px;
            color: #ccc;
            text-align: center;
        }
        
        .double-tap-hint {
            font-size: 12px;
            margin-top: 10px;
            color: #f8c537;
            text-align: center;
            font-style: italic;
        }
        
        .live-wins {
            margin-top: 30px;
            padding: 15px;
            background-color: rgba(26, 26, 46, 0.7);
            border-radius: 10px;
            border: 1px solid #f8c537;
        }
        
        .live-wins h3 {
            margin: 0 0 10px;
            text-align: center;
            color: #f8c537;
        }
        
        .wins-list {
            max-height: 150px;
            overflow-y: auto;
        }
        
        .win-item {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }
        
        .win-item:last-child {
            border-bottom: none;
        }
        
        .win-user {
            color: #00b4d8;
        }
        
        .win-amount {
            color: #2dc59f;
            font-weight: bold;
        }
        
        .bot-link {
            margin-top: 20px;
            text-align: center;
            color: #f8c537;
            font-size: 14px;
        }
        
        .result-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .result-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 30px;
            border-radius: 15px;
            width: 80%;
            max-width: 300px;
            text-align: center;
            border: 2px solid #f8c537;
            box-shadow: 0 0 30px rgba(248, 197, 55, 0.5);
        }
        
        .result-icon {
            font-size: 60px;
            margin-bottom: 20px;
        }
        
        .result-text {
            font-size: 24px;
            margin-bottom: 10px;
            color: #f8c537;
        }
        
        .result-amount {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2dc59f;
        }
        
        .close-result {
            padding: 10px 20px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>–ü–∞—Ä–∞</h1>
            <h2>3-day</h2>
        </div>
        
        <div class="wheel-container">
            <div class="pointer"></div>
            <div class="wheel" id="wheel">
                <div class="wheel-label" style="top: 20%; left: 70%; transform: rotate(45deg);">1X –®–ê–ù–°</div>
                <div class="wheel-label" style="top: 20%; left: 30%; transform: rotate(-45deg);">10X</div>
                <div class="wheel-label" style="top: 70%; left: 30%; transform: rotate(-135deg);">100X</div>
                <div class="wheel-label" style="top: 70%; left: 70%; transform: rotate(135deg);">–†–ê–°–ö–†–£–¢–ò–¢–¨ –ó–ê 200</div>
            </div>
            <div class="wheel-center" id="spin-button">–î–≤–æ–π–Ω–æ–π —Ç–∞–ø<br>–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ<br>–∫—Ä—É—á–µ–Ω–∏—è</div>
        </div>
        
        <button class="spin-button" id="spin-button-main">–†–ê–°–ö–†–£–¢–ò–¢–¨ –ó–ê 200</button>
        <div class="spin-cost">–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span></div>
        <div class="double-tap-hint">–¥–≤–æ–π–Ω–æ–π —Ç–∞–ø –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫—Ä—É—á–µ–Ω–∏—è</div>
        
        <div class="live-wins">
            <h3>–í–´–ò–ì–†–´–®–ò –í –ü–†–Ø–ú–û–ú –≠–§–ò–†–ï</h3>
            <div class="wins-list" id="wins-list">
                <!-- Wins will be added here dynamically -->
                <div class="win-item">
                    <span class="win-user">User123</span>
                    <span class="win-amount">100X</span>
                </div>
                <div class="win-item">
                    <span class="win-user">Player456</span>
                    <span class="win-amount">10X</span>
                </div>
                <div class="win-item">
                    <span class="win-user">SpinnerPro</span>
                    <span class="win-amount">1X –®–ê–ù–°</span>
                </div>
            </div>
        </div>
        
        <div class="bot-link">@virus_play_bot</div>
    </div>
    
    <div class="result-modal" id="result-modal">
        <div class="result-content">
            <div class="result-icon" id="result-icon">üéâ</div>
            <div class="result-text" id="result-text">–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!</div>
            <div class="result-amount" id="result-amount">10X</div>
            <button class="close-result" id="close-result">OK</button>
        </div>
    </div>
    
    <script>
        // Game configuration
        const config = {
            spinCost: 200,
            initialBalance: 1000,
            segments: [
                { label: "1X –®–ê–ù–°", color: "#e94560", multiplier: 1, weight: 40 },
                { label: "10X", color: "#00b4d8", multiplier: 10, weight: 35 },
                { label: "100X", color: "#f8c537", multiplier: 100, weight: 20 },
                { label: "–†–ê–°–ö–†–£–¢–ò–¢–¨ –ó–ê 200", color: "#2dc59f", multiplier: 0, weight: 5 }
            ]
        };
        
        // Game state
        const state = {
            balance: config.initialBalance,
            isSpinning: false,
            wins: [
                { user: "User123", amount: "100X" },
                { user: "Player456", amount: "10X" },
                { user: "SpinnerPro", amount: "1X –®–ê–ù–°" }
            ]
        };
        
        // DOM elements
        const wheel = document.getElementById('wheel');
        const spinButton = document.getElementById('spin-button');
        const spinButtonMain = document.getElementById('spin-button-main');
        const balanceDisplay = document.getElementById('balance');
        const winsList = document.getElementById('wins-list');
        const resultModal = document.getElementById('result-modal');
        const resultIcon = document.getElementById('result-icon');
        const resultText = document.getElementById('result-text');
        const resultAmount = document.getElementById('result-amount');
        const closeResult = document.getElementById('close-result');
        
        // Initialize the game
        function initGame() {
            updateUI();
            setupWheel();
            
            // Load saved state if available
            const savedState = localStorage.getItem('htSpinnerState');
            if (savedState) {
                Object.assign(state, JSON.parse(savedState));
                updateUI();
            }
        }
        
        // Set up the wheel segments
        function setupWheel() {
            const segmentAngle = 360 / config.segments.length;
            
            // Create conic gradient for the wheel
            let gradientParts = [];
            config.segments.forEach((segment, index) => {
                const start = (index * segmentAngle) / 360 * 100;
                const end = ((index + 1) * segmentAngle) / 360 * 100;
                gradientParts.push(`${segment.color} ${start}% ${end}%`);
            });
            
            wheel.style.background = `conic-gradient(${gradientParts.join(', ')})`;
        }
        
        // Update UI elements
        function updateUI() {
            balanceDisplay.textContent = state.balance;
            
            // Update wins list
            winsList.innerHTML = '';
            state.wins.slice(0, 10).forEach(win => {
                const winItem = document.createElement('div');
                winItem.className = 'win-item';
                winItem.innerHTML = `
                    <span class="win-user">${win.user}</span>
                    <span class="win-amount">${win.amount}</span>
                `;
                winsList.appendChild(winItem);
            });
            
            // Enable/disable spin button based on balance
            spinButtonMain.disabled = state.balance < config.spinCost || state.isSpinning;
        }
        
        // Spin the wheel
        function spinWheel() {
            if (state.isSpinning || state.balance < config.spinCost) return;
            
            state.isSpinning = true;
            state.balance -= config.spinCost;
            updateUI();
            
            // Determine the result based on weights
            const totalWeight = config.segments.reduce((sum, segment) => sum + segment.weight, 0);
            let random = Math.random() * totalWeight;
            let selectedSegment;
            let accumulatedWeight = 0;
            
            for (const segment of config.segments) {
                accumulatedWeight += segment.weight;
                if (random <= accumulatedWeight) {
                    selectedSegment = segment;
                    break;
                }
            }
            
            // Calculate rotation (5 full rotations + offset to selected segment)
            const segmentAngle = 360 / config.segments.length;
            const currentRotation = parseInt(wheel.style.transform.replace('rotate(', '').replace('deg)', '')) || 0;
            const segmentIndex = config.segments.findIndex(s => s.label === selectedSegment.label);
            const targetRotation = currentRotation + 1800 + (360 - (segmentIndex * segmentAngle + segmentAngle / 2));
            
            wheel.style.transform = `rotate(${targetRotation}deg)`;
            
            // Add to wins list
            state.wins.unshift({
                user: `Player${Math.floor(Math.random() * 1000)}`,
                amount: selectedSegment.label
            });
            
            // Show result after spin completes
            setTimeout(() => {
                showResult(selectedSegment);
                state.isSpinning = false;
                updateUI();
                saveState();
            }, 3000);
        }
        
        // Show result modal
        function showResult(segment) {
            resultIcon.textContent = segment.multiplier === 100 ? 'üí∞' : segment.multiplier === 10 ? 'üéÅ' : 'üéØ';
            resultText.textContent = segment.multiplier > 0 ? '–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!' : '–ü–û–í–ï–ó–ï–¢ –í –°–õ–ï–î–£–Æ–©–ò–ô –†–ê–ó!';
            resultAmount.textContent = segment.label;
            
            if (segment.multiplier > 0) {
                state.balance += config.spinCost * segment.multiplier;
            }
            
            resultModal.style.display = 'flex';
        }
        
        // Save game state
        function saveState() {
            localStorage.setItem('htSpinnerState', JSON.stringify(state));
        }
        
        // Event listeners
        spinButton.addEventListener('click', spinWheel);
        spinButtonMain.addEventListener('click', spinWheel);
        
        // Double tap for quick spin
        let lastTap = 0;
        spinButton.addEventListener('touchend', function(e) {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            if (tapLength < 500 && tapLength > 0) {
                spinWheel();
            }
            lastTap = currentTime;
        });
        
        // Close result modal
        closeResult.addEventListener('click', () => {
            resultModal.style.display = 'none';
        });
        
        // Initialize the game
        initGame();
    </script>
</body>
</html>
